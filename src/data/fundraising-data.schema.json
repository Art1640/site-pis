{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Fundraising Data Schema",
  "description": "Schema for Pissenlits fundraising records",
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "Date": {
        "type": "string",
        "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
        "description": "Date in YYYY-MM-DD format (e.g., 2025-09-01)"
      },
      "Qui": {
        "type": "string",
        "description": "Person or group name. For multiple people, separate with commas (e.g., 'Dorcopsis, Sika, Merionne, Charlotte')"
      },
      "Type": {
        "type": "string",
        "minLength": 1,
        "description": "Type of fundraising activity (e.g., Bar Pi, Début d'année)"
      },
      "Activité": {
        "type": "string",
        "minLength": 1,
        "description": "Specific activity name"
      },
      "Détails": {
        "type": "string",
        "description": "Additional details about the activity (can be empty)"
      },
      "Montant": {
        "oneOf": [
          {
            "type": "number",
            "description": "Single amount in euros (positive for income, negative for expenses)"
          },
          {
            "type": "array",
            "items": {
              "type": "number"
            },
            "description": "Array of individual amounts for each person (when Qui contains multiple people separated by commas)"
          }
        ],
        "description": "Amount(s) in euros. Use a single number for equal split, or an array for individual amounts"
      }
    },
    "required": ["Date", "Qui", "Type", "Activité", "Détails", "Montant"],
    "additionalProperties": false
  }
}
